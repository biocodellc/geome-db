<div class="row">
    <h3 class="page-header">Expedition Browser</h3>
    <p class="text-center">In this system an “Expedition” includes the metadata (and Sanger sequences if applicable)
        from a single dataset. The GUID is the globally unique persistent identifier for the expedition and should be
        acknowledged in the original publication of the dataset and accredited when any part of that dataset is
        downloaded for reuse.</p>

    <table class="table table-hover table-condensed text-center" ng-show="vm.displayResults.length > 0">
        <thead>
            <th class="text-center">Expedition Title</th>
            <th class="text-center">Samples</thcl>
            <th class="text-center">Fasta Sequences</th>
            <th class="text-center">Fastq Metadata</th>
            <th class="text-center">GUID</th>
            <th></th>
        </thead>

        <tbody>
            <tr ng-repeat="expedition in vm.displayResults track by expedition.expeditionCode">
                <td>{{ expedition.expeditionTitle}}</td>
                <td>{{ expedition.resourceCount}}</td>
                <td>{{ expedition.fastaSequenceCount}}</td>
                <td>{{ expedition.fastqMetadataCount}}</td>
                <td ng-show="expedition.expeditionIdentifier"><a
                        href="http://n2t.net/{{expedition.expeditionIdentifier}}">http://n2t.net/{{
                    expedition.expeditionIdentifier}}</a></td>
                <td ng-show="!expedition.expeditionIdentifier"></td>
                <td>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary btn-xs dropdown-toggle"
                                data-toggle="dropdown">Download <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href="#" ng-click="vm.downloadCsv(expedition.expeditionCode)">CSV</a></li>
                            <li><a href="#" ng-show="expedition.fastaSequenceCount > 0"
                                   ng-click="vm.downloadFasta(expedition.expeditionCode)">Fasta</a></li>
                            <li><a href="#" ng-show="expedition.fastqMetadataCount > 0"
                                   ng-click="vm.downloadFastq(expedition.expeditionCode)">Fastq</a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <uib-pagination total-items="vm.totalItems" ng-model="vm.currentPage" ng-change="vm.pageChanged()"
                    items-per-page="vm.itemsPerPage"></uib-pagination>

</div>
